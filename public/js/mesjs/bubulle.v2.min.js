// script issu de : http://www.webbricks.org/bricks/bubulle/
function byId(a){return document.getElementById(a)}function addEvent(a,c,b,d){if(a.addEventListener){a.addEventListener(c,b,d)}else{a.attachEvent("on"+c,b)}}function remEvent(a,c,b,d){if(a.removeEventListener){a.removeEventListener(c,b,d)}else{a.detachEvent("on"+c,b)}}var mousePos={'x':0,'y':0};function getMousePos(a){var c=document,b=c.documentElement,d=document.body;a=a||window.event;if(a.pageX||a.pageY){mousePos.x=a.pageX;mousePos.y=a.pageY}else if(a.clientX||a.clientY){mousePos.x=a.clientX+d.scrollLeft+b.scrollLeft;mousePos.y=a.clientY+d.scrollTop+b.scrollTop}}addEvent(document,'mousemove',getMousePos);function scrolled(){var a,c;if(window.pageXOffset!==undefined){a=window.pageXOffset;c=window.pageYOffset}else{a=document.documentElement.scrollLeft?document.documentElement.scrollLeft:(document.body.scrollLeft?document.body.scrollLeft:0);c=document.documentElement.scrollTop?document.documentElement.scrollTop:(document.body.scrollTop?document.body.scrollTop:0)}return{'x':a,'y':c}}function transfer(a,c){var b,d={};for(b in c){d[b]=c[b]}for(b in a){d[b]=a[b]}return d}function winDim(){var a,c,b=window,d=document,e=d.documentElement,f=d.body;if(b.innerWidth){a=b.innerWidth;c=b.innerHeight}else if(e.clientWidth){a=e.clientWidth;c=e.clientHeight}else{a=f.clientWidth;c=f.clientHeight}return{'w':a,'h':c}}var bubulle={parDefaut:{classe:null,contenuAjax:null,fonduOpt:{duration:500},fixeApres:200,actionneur:null,survolBulle:0,persistance:0,delai:200,rien:0},parici:function(){var a=byId('bubulle');if(a){var c=winDim();var b=scrolled();var d=mousePos.x+a.offsetWidth;a.style.left=((d>c.w)?mousePos.x-(d-c.w):mousePos.x)+"px";var e=mousePos.y-(a.offsetHeight+5);a.style.top=((e<b.y)?mousePos.y+10:e)+"px"}},hop:function(a,c){c=transfer(c,this.parDefaut);if(c.fixeApres>0){var b=c.fixeApres-c.delai;c.fixeApres=b<0?0:b}this.options=c;this.prog=setTimeout(function(){bubulle.creer(a,c)},c.delai||1)},creer:function(c,b){this.hover=true;if(this.actionneur==b.actionneur){this.pop()}else{this.hover=0;this.achever();this.actionneur=b.actionneur;var d=document.createElement("div");d.id="bubulle";d.innerHTML=c;d.style.position="absolute";d.style.top=d.style.left='0px';d.style.zIndex=-9;document.getElementsByTagName("body")[0].appendChild(d);d.className=b.classe;bubulle.parici();d.style.zIndex='';if(window.setOpacity){setOpacity(d,0)}b=transfer(b,this.parDefaut);this.options=b;if(b.survolBulle){d.onmouseover=function(){bubulle.hover=1};d.onmouseout=this.pop}if(b.contenuAjax&&window.AjReq){this.ajax=new AjReq();this.ajax.send(b.contenuAjax,{forceMime:'text/html',onSuccess:function(){var a=byId('bubulle');if(a){a.innerHTML=bubulle.ajax.back.response}bubulle.parici()}})}if(window.fade){b.fonduOpt.duration=b.fonduOpt.duration||1;fade(d,1,0,b.fonduOpt)}var e=b.fixeApres;remEvent(window,'mousemove',bubulle.parici);addEvent(window,'mousemove',bubulle.parici);if(e>=0){setTimeout(function(){remEvent(window,'mousemove',bubulle.parici)},e||1)}}},deprog:function(){if(this.prog){clearTimeout(this.prog);this.prog=0}},achever:function(){var a=byId("bubulle");if(a&&!bubulle.hover){bubulle.deprog();bubulle.actionneur=0;if(a){document.getElementsByTagName("body")[0].removeChild(a)}if(bubulle.ajax){bubulle.ajax.abort();bubulle.ajax=0}}},pop:function(){bubulle.hover=0;bubulle.deprog();bubulle.prog=setTimeout(bubulle.achever,bubulle.options.persistance)},apply:function(a,c,b){b=transfer(b,this.parDefaut);b.actionneur=b.actionneur||a;addEvent(a,'mouseover',function(){bubulle.hop(c,b)});if(b.persistance>=0){addEvent(a,'mouseout',bubulle.pop)}}};